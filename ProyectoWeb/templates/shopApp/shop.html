
{% extends "base.html" %}  <!--  con esta instruccion insertamos la plantilla base.html -->

{% load static %} <!--  cargamos todo lo que tengamos en la carpeta static -->

{% block content %} <!--  etiq de apertura de los contenido exclusivos del home -->

<!-- CONTENIDO EXCLUSIVO DE SHOP -->

<!-- le introducimos una etq style. esto es puede ahcer tambien en la hoja de estilos externa gestion.css -->
<style> 
    #tarjetaShop:hover {scale: 1.12; transition: all 0.3s}
</style>


<div class="container">


    <div class=" mt-5 text-light">
        <p class="lead"> Bienvenid@ a la tienda! </p>
        <p>Esta es nuestra sección mas especial. Disfruta de todos nuestros productos...</p>
        <hr style= " border-color: white" >
    </div>

    <!--  FILTRAR POR CATEGORIAS:  aparecen todas las categorías en la parte superior de la pantalla para filtrar -->
        <p style="display: inline; color:white"> Filtrar por categorias:</p>

        {% for c in lista_categorias %}   
            <a href="{% url 'FiltroCategoriaShop' c.nombre %}"><span class ="badge badge-pill badge-primary"> {{ c.nombre }}</span></a>
        {% endfor %}
        <hr><hr>
    <!--  FIN FILTRO POR CATEGORIAS -->

    <div style="float:right"> <!-- agrego el template carro.html -->
        {% include "carro.html" %}
    </div>



    <div class="row"> <!-- fila donde se almacenan los artículos -->

        {% for i in lista_productos %}
        <div class="col-md-4" > <!-- le ponemos un ancho de 4 columnas, para que cada imagen ocupe 4 columnas => habra 3 imagenes -->
            <div class="card " style="margin: 15px 15px" id="tarjetaShop">
                <img src="{{ i.imagen.url }}" class="card-img-top">
                <!-- cargo un card-body para meterle el texto a la tarjeta card -->
                <div class="card-body text-center">
                    <h6 class="card-title text-center"> {{i.nombre}} </h6>
                    <!-- la categoría, a la cual se accede con otro bucle for -->
                        <a href="{% url 'FiltroCategoriaShop' i.categorias %}" class="text-center"><span class ="badge badge-pill badge-primary  "> {{ i.categorias}}</span></a>
                    <!-- fin de la categoria -->
                    <p class="card-text text-center" >   {{i.precio | floatformat:2}}€</p> <!-- floatformat es para poner siempre dos decimales -->
                </div>

                <!-- se cierra el card-body -->
                <!-- se mete el botton en el card-footer -->
                <div class ="clard-footer text-center">
                    <a href="{% url 'Carro:Agregar' i.id %}" class="btn btn-warning"> Agregar</a>
                </div>
                <!-- se cierra el card-footer -->
            </div>
        </div>
        {% endfor %}

    </div>
</div> 
    
<!--  FIN DEL CONTENIDO EXCLUSIVO DE SHOP -->

{% endblock %}